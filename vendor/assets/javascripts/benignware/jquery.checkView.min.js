
(function(e,b){var d="checkview";var f={buttonTag:"span",buttonClass:"btn btn-default btn-xs btn-mini btn-checkview",iconClass:"glyphicon glyphicon-ok icon-ok",submitOnKeyEnter:true};var a=function c(k,t){var g="click";var h=this;var o=k.ownerDocument;var r=e(k);k.tabIndex="-1";k.style.position="absolute";k.style.width="0";k.style.height="0";var m=e(k).next();var j=e(k).prev();var q=m&&m.tagName=="input"&&m.type=="hidden"?m:j&&j.tagName=="input"&&j.type=="hidden"?j:null;var n,p;var n=r.parents("."+t.buttonClass)[0];if(!n){n=o.createElement(t.buttonTag||"span");k.parentNode.insertBefore(n,k)}var p=e(n);n.tabIndex="0";n.className=t.buttonClass;n.style.display="inline-block";n.style.cursor="pointer";var i=o.createElement("i");i.className=t.iconClass;n.appendChild(i);function s(){if(!k.value){k.value="on"}k.style.visibility="hidden";n.appendChild(k);i.style.verticalAlign="top";var u;p.bind("keypress",function(x){if(x.which==32){k.checked=!k.checked;h.invalidate()}if(x.which==13&&t.submitOnKeyEnter){if(k.form){k.form.submit()}}});r.bind("change",function(x){h.invalidate();b.clearTimeout(w)});var w=null;function v(){k.checked=!k.checked;e(k).trigger("change")}e(b).bind("resize",function(){h.invalidate()});this.invalidate()}function l(){var v=e(n);if(k.checked){v.addClass("checked")}else{v.removeClass("checked")}var u=e(["margin-left"]);var w={};u.each(function(){var x=r.css(this);if(x){w[this]=x}});v.css(w);i.style.visibility=k.checked?"":"hidden";i.style.position="relative";i.style.left=((e(n).width()-e(i).width())/2)+"px";i.style.top=((e(n).height()-e(i).height())/2)+"px"}this.setChecked=function(u){k.checked=u;if(u){r.attr("checked","checked")}else{r.removeAttr("checked")}this.invalidate()};this.isChecked=function(){return e(k).is(":checked")};this.invalidate=function(){l.call(this)};s.call(this)};e.fn[d]=function(g){g=e.extend({},f,g);return this.each(function(){if(!e(this).data(d)){e(this).data(d,new a(this,g))}return e(this)})}})(jQuery,window);